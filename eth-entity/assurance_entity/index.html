 <!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Crowdfunder</title>

    <link rel="stylesheet" href="../../css/note.css">
    <link rel="stylesheet" href="../../css/addr.css">    
  </head>
  <body>

    <h2>You need to use an Ethereum browser to use this</h2>
    Tested only on alethzero at the moment!
    <a href="https://github.com/o-jasper/o-jasper.github.io/tree/master/eth-entity/assurance_entity#assurance-ethereum-entity/">Source code here</a>.
    
    <br><b style="font-size:200%">Crowdfunder</b>
      <input type="text" id="crowdfunder" onchange="gui.crowdfunder_input();"><br>
    <span id="crowdfunder_note"></span>
    <span id="text_note"></span>

    <span id="anyone">
      <h3 id="anyone_title">Funding</h3>
      <table>
        <tr><td id="anyone_txt">Pay from:</td>
          <td><input type="text" id="from" onchange="gui.from_input();"></td>
          <td id="from_note"></td></tr>
        <tr id="amount_part"><td>Amount:</td>
          <td><input type="text" id="amount" onchange="gui.amount_input();"></td>
          <td id="amount_note"></td></tr>
        <tr><td colspan="2"><button id="anyone_button" onclick="gui.run_anyone()">Pay</button>
        </td></tr>
      </table>
    </span>
    
    <span id="create"><h3>Create</h3>
      <table>
      <tr><td>Create with:</td><td><input type="text" id="creator" onchange="gui.creator_input();"></td><td id="creator_note"></td></tr>
        <tr><td colspan="2"><button onclick="gui.run_create()">Create</button></td></tr>
      </table>
    </span>
    <span id="init"><h3>Parameters</h3>
    <table>
      <tr><td>Owner:</td><td><input type="text" id="owner" onchange="gui.owner_input();"></td><td id="owner_note"></td></tr>
      <tr><td>Recipient:</td><td><input type="text" id="recipient" onchange="gui.recipient_input();"></td><td id="recipient_note"></td></tr>
      <tr><td>Threshhold:</td><td><input type="text" id="min" onchange="gui.min_input();"></td><td id="min_note"></td></tr>
      <tr><td>Maximum:</td><td><input type="text" id="max" onchange="gui.max_input();"></td><td id="max_note"></td></tr>
      <tr><td>End time</td><td><input type="text" id="endtime" onchange="gui.endtime_input();"></td><td id="endtime_note"></td></tr>
      <!-- TODO date input style -->
      <tr><td colspan="2"><button id="init_button" onclick="gui.run_init();">Initialize</button></td></tr>
    </table>
    </span>

    <span id="refund"><h3>Owner control</h3>
       <input type="checkbox" id="refund_lock_toggle" onclick="gui.refund_lock_toggle()"></input>
      <button id="refund_button" onclick="gui.run_refund()">Refund<span id="refund_amount"></span></button>
    </span>

    <span id="list">
      <h3><span id="contributor_cnt"></span> contributors, reaching <span id="balance"></span></h3>
      <table id="list_table"></table>
    </span>
    <hr>
    <button onclick="gui.update_all();">Force Update</button>
    Never hide anything: <input type="checkbox" onclick="gui.never_hidden=!gui.never_hidden;gui.update_all();">
    <br>
    Checks: GUI<input type="checkbox" value="true" onclick="gui.safety=!gui.safety;">
    Contract interface<input type="checkbox" value="true" onclick="gui.crowdfund.safety=!gui.crowdfund.safety;">
    
    <!-- TODO disable hiding -->
            
    <script src="../../js/common.js"></script>
    <script src="../../js/common-gui.js"></script>
    <script src="js/els.js"></script>    
    <script src="js/contract.js"></script>
    <script src="js/gui.js"></script>
    <script src="build/creator.js"></script>
    <script>var gui = new_crowdfund_gui(); gui.init_from_url(); gui.update_all();</script>
</body></html>
